
import Link from 'next/link';
import { useRouter } from 'next/router'
import styles from '../styles/components/Header.module.css';
import DarkmodeButton from '../components/DarkmodeButton';
import { useState, useEffect } from 'react';

export default function Header() {
  //Função que ativa o menu mobile
  function activeMenu(){
    const menuA = document.querySelector(".Header_menu__1e9v6 a")
    const nav = document.querySelector(".Header_nav__3t45C")

    if(window.innerWidth <= 460){
      if(nav.style.top == ''||nav.style.top == '-100%'){
        menuA.style.transform = 'rotate(180deg)'
        nav.style.top = '60px'
        nav.style.opacity = '1'
        
      }
      else if(nav.style.top == '60px'){
        menuA.style.transform = 'rotate(0)'
        nav.style.top = '-100%'
        nav.style.opacity = '.5'
      }
    }else{
      return
    }
  }
  //Função que remove o vídeo quando se mudar para outra página do site
  function removeVideo(){
    togglePageCloseMenu();
    if(document.querySelector('.videoFull')){
      document.querySelector('.videoFull').parentElement.removeChild(document.querySelector('.videoFull'));
    }
  }
  //Função que fecha o menu quando se escolhe uma opção
  function togglePageCloseMenu(){
    const menuA = document.querySelector(".Header_menu__1e9v6 a")
    const nav = document.querySelector(".Header_nav__3t45C")
    
    if(window.innerWidth <= 460){
      if(nav.style.top == '60px'){
        menuA.style.transform = 'rotate(0deg)'
        nav.style.top = '-100%'
        nav.style.opacity = '.5'
      }
    }else if(window.innerWidth >= 460){
      nav.style.opacity = '1'
      return
    }
  }
  return(
    // header
    <header className={styles.header}>
      {/* title */}
      <div className={styles.title}>
        <Link href="/">
          <a onClick={removeVideo}> 
            <svg className={styles.headerSvg} id="Capa_1" enableBackground="new 0 0 512 512" viewBox="0 0 512 512" width="35" height="35"><g><circle cx="256" cy="85" r="85"/><path d="m318.459 181.515c-17.997 11.687-39.448 18.485-62.459 18.485s-44.462-6.798-62.459-18.485c-19.895 7.603-38.341 18.82-54.38 33.216l116.839 43.815 116.839-43.815c-16.039-14.396-34.485-25.614-54.38-33.216z"/><path d="m436 310h-10c-8.284 0-15 6.716-15 15v40c0 8.284 6.716 15 15 15h10c19.33 0 35-15.67 35-35 0-19.33-15.67-35-35-35z"/><path d="m87.456 234.276c-4.044 2.803-6.456 7.409-6.456 12.329v33.395h5c24.813 0 45 20.187 45 45v40c0 24.813-20.187 45-45 45h-5v31.605c0 6.253 3.879 11.85 9.733 14.045l150.267 56.35v-227.04l-139.733-52.4c-4.607-1.729-9.768-1.088-13.811 1.716z"/><path d="m381 365v-40c0-24.813 20.187-45 45-45h5v-33.395c0-4.92-2.412-9.526-6.456-12.329-4.044-2.804-9.206-3.445-13.811-1.716l-139.733 52.4v227.04l150.267-56.35c5.854-2.195 9.733-7.792 9.733-14.045v-31.605h-5c-24.813 0-45-20.187-45-45z"/><path d="m101 365v-40c0-8.284-6.716-15-15-15h-10c-19.33 0-35 15.67-35 35 0 19.33 15.67 35 35 35h10c8.284 0 15-6.716 15-15z"/></g></svg>
          </a>
        </Link>
      </div>
      {/* nav */}
      <div className={styles.menu}>
        <a onClick={activeMenu}>
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 50 50"><path d="M 5.09375 6 C 2.742188 6 1.277344 8.65625 2.4375 10.6875 L 22.53125 45.59375 C 23.605469 47.4375 26.394531 47.4375 27.46875 45.59375 L 47.5625 10.6875 C 48.722656 8.65625 47.21875 6 44.8125 6 Z M 5.09375 8 L 44.8125 8 C 45.792969 8 46.253906 8.925781 45.84375 9.6875 L 45.84375 9.71875 L 25.71875 44.59375 C 25.390625 45.113281 24.609375 45.113281 24.28125 44.59375 L 4.15625 9.71875 C 4.148438 9.707031 4.160156 9.699219 4.15625 9.6875 C 3.75 8.925781 4.253906 8 5.09375 8 Z M 8.1875 10 C 7.851563 10.039063 7.558594 10.242188 7.40625 10.546875 C 7.253906 10.847656 7.265625 11.207031 7.4375 11.5 L 24.125 40.5 C 24.300781 40.816406 24.636719 41.015625 25 41.015625 C 25.363281 41.015625 25.699219 40.816406 25.875 40.5 L 42.5625 11.5 C 42.742188 11.1875 42.742188 10.804688 42.558594 10.496094 C 42.378906 10.1875 42.046875 9.996094 41.6875 10 L 8.3125 10 C 8.269531 9.996094 8.230469 9.996094 8.1875 10 Z M 10.03125 12 L 39.96875 12 L 25 37.96875 Z"></path></svg>
        </a>
      </div>

      <nav className={styles.nav}>
        {/* calculo */}
        <div className={styles.anchor} >
          <Link href="/materias/calculo">
            <a onClick={removeVideo} >
              <svg className={styles.headerSvg} id="Capa_1" x="0px" y="0px"
              viewBox="0 0 215.76 215.76">
              <polygon points="151.493,2.877 83.055,149.641 45.907,89.106 0.113,88.931 0,118.931 29.079,119.042 86.665,212.883 170.604,32.877 
                215.76,32.877 215.76,2.877 "/>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              </svg>
            </a>
          </Link>
          <p>Cálculo</p>
        </div>
        
        {/* fisica */}
        <div className={styles.anchor}>
          <Link href="/materias/fisica">
            <a onClick={removeVideo}>
            <svg className={styles.headerSvg} viewBox="0 0 512 512" enableBackground="new 0 0 512 512">
              <g>
                <g>
                  <path d="m457.3,257.8c49.8-87.3 57.8-171 13.5-216-51.4-52.3-136.2-31.3-213.3,13.1-87.7-50.3-172.4-58.3-215.7-12.5-52.4,55.4-30.9,139.2 12.2,213.7-49.5,87.1-57.2,171.1-11.6,214.1 55.3,52.3 138.9,30.9 213.3-12 86.7,49 169.7,56.6 214.5,12.6 52.2-51.3 31.3-135.9-12.9-213zm-22.2-180.3c21.4,22.8 17.5,71.3-10.7,129.8-17.5-23.9-36.3-46-54.6-64.6-20.9-21.3-42.7-40.2-64.7-56.6 53.6-25.4 105.6-34.7 130-8.6zm-357.6,.6c21.7-22.5 70.1-18.3 128.8,10.2-23.5,17.2-45.2,35.8-63.5,53.8-21.6,21.3-40.8,43.4-57.4,65.8-24.9-51.4-34.5-102.3-7.9-129.8zm.6,356.4c-22.3-21.5-18.4-69.3 9.6-127.4 17.8,23.9 36.7,45.6 54.4,63.4 21.2,21.2 43.2,40.1 65.4,56.4-51.3,24.7-101.9,34.1-129.4,7.6zm99.7-99.7c-21.1-19.6-43.5-46.4-63-75.7 17.1-26.4 38.4-53.9 63.6-81.3 20.1-21.7 46.6-43.6 75.3-62.5 26.1,17 53.3,38.1 80.4,63.1 22,20.3 44.2,47.3 63.2,76.4-16.8,25.8-37.7,52.6-62.6,79.3-19.9,21.3-47.1,44.1-76.8,63.8-25.9-16.9-53-37.9-80.1-63.1zm256.7,100.3c-22.7,21.2-70.5,17.6-128.4-10 24.4-18 46.4-37.2 64.4-55.2 20.9-20.9 39.4-42.5 55.5-64.2 25.4,53.3 34.6,105.1 8.5,129.4z"/>
                  <circle cx="256" cy="256" r="29.9"/>
                </g>
              </g>
            </svg>
            </a>
          </Link>
          <p>Física</p>
        </div>

        {/* vetorial */}
        <div className={styles.anchor}>
          <Link href="/materias/calculo-vetorial">
            <a onClick={removeVideo}>
            <svg className={styles.headerSvg} id="Layer_1" x="0px" y="0px"
              viewBox="0 0 347.537 347.537" enableBackground="new 0 0 347.537 347.537" fill="#8b949e">
            <polygon points="347.537,0 154.44,0 240.382,85.942 0,326.324 21.213,347.537 261.595,107.155 347.537,193.097 "/>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            <g>
            </g>
            </svg>
            </a>
          </Link>
          <p>Cálculo Vetorial</p>
        </div>

        {/* intro comp */}
        <div className={styles.anchor}>
          <Link href="/materias/intro-computador">
            <a onClick={removeVideo}>
              <svg className={styles.headerSvg} id="Capa_1"  x="0px" y="0px"
                viewBox="0 0 487.8 487.8" enableBackground="new 0 0 487.8 487.8;" fill="#8b949e">
              <g>
                <g>
                  <path d="M468.4,198H339.9c-10.7,0-19.4,8.7-19.4,19.4v192.9c0,10.7,8.7,19.4,19.4,19.4h128.5c10.7,0,19.4-8.7,19.4-19.4V217.5
                    C487.8,206.7,479.1,198,468.4,198z M365.6,405.1h-20.4V222.7h20.4V405.1z M463.1,405.1h-57.4V222.7h57.4V405.1z"/>
                  <path d="M44.8,102.9h317.4v66.8H407V90.9c0-18.2-14.7-32.9-32.9-32.9H32.9C14.7,58,0,72.7,0,90.9v230.7
                    c0,18.2,14.7,32.9,32.9,32.9h133.9v36.7h-26.1c-4.4,0-7.9,3.5-7.9,7.9v22.8c0,4.4,3.5,7.9,7.9,7.9h125.8c4.4,0,7.9-3.5,7.9-7.9
                    V399c0-4.4-3.5-7.9-7.9-7.9h-26.1v-36.7h49.3v-45.2H44.8V102.9z"/>
                </g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              </svg>
            </a>
          </Link>
          <p>Introdução ao Computador</p>
        </div>

        {/* intro prog */}
        <div className={styles.anchor}>
          <Link href="/materias/intro-programacao">
            <a onClick={removeVideo}>
              <svg className={styles.headerSvg} id="Capa_1"  x="0px" y="0px"
                viewBox="0 0 384.974 384.974" enableBackground="new 0 0 384.974 384.974;" fill="#8b949e">
              <g>
                <g id="Double_Chevron">
                  <path d="M381.463,183.891L273.166,75.631c-4.752-4.74-12.451-4.74-17.215,0c-4.752,4.74-4.752,12.439,0,17.179l99.707,99.671
                    l-99.695,99.671c-4.752,4.74-4.752,12.439,0,17.191c4.752,4.74,12.463,4.74,17.215,0l108.297-108.261
                    C386.143,196.391,386.143,188.571,381.463,183.891z"/>
                  <path d="M129.031,75.631c-4.752-4.74-12.463-4.74-17.215,0L3.519,183.891c-4.692,4.68-4.692,12.499,0,17.191l108.297,108.261
                    c4.752,4.74,12.451,4.74,17.215,0c4.752-4.74,4.752-12.439,0-17.179l-99.707-99.683l99.695-99.671
                    C133.783,88.07,133.783,80.371,129.031,75.631z"/>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
                <g>
                </g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              <g>
              </g>
              </svg>
            </a>
          </Link>
          <p>Introdução a Programação</p>
        </div>

        {/* Linguagem de programação 1 */}
        <div className={styles.anchor}>
          <Link href="/materias/linguagem-programacao-1">
            <a onClick={removeVideo}>
              <svg className={styles.headerSvg} xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 30 30" width="35" height="35">    
                <path d="M 17.662109 -0.015625 C 19.190109 3.063375 12.191016 4.9633437 11.541016 7.5273438 C 10.946016 9.8833438 15.696172 12.621094 15.701172 12.621094 C 14.979172 11.647094 14.457422 10.842219 13.732422 9.3242188 C 12.506422 6.7572187 20.966109 4.108375 17.662109 -0.015625 z M 22.722656 4.1972656 C 22.722656 4.1972656 17.386281 4.5194844 17.113281 7.7714844 C 16.992281 9.2194844 18.515594 9.992875 18.558594 11.046875 C 18.595594 11.907875 17.648438 12.623047 17.648438 12.623047 C 17.648438 12.623047 19.211047 12.383312 19.748047 11.070312 C 20.342047 9.6143125 18.747781 8.5517656 18.925781 7.3847656 C 19.095781 6.2687656 22.722656 4.1972656 22.722656 4.1972656 z M 12.761719 12.623047 C 12.761719 12.623047 7.2773438 12.550172 7.2773438 14.076172 C 7.2763438 15.671172 14.457938 15.782734 19.585938 14.802734 C 19.585938 14.802734 20.749281 14.165266 21.113281 13.822266 C 17.753281 14.495266 10.287109 14.300797 10.287109 13.716797 C 10.287109 13.178797 12.761719 12.623047 12.761719 12.623047 z M 23.681641 12.664062 C 23.07915 12.638797 22.419687 12.830578 21.851562 13.236328 C 23.038563 12.979328 24.039063 13.709734 24.039062 14.552734 C 24.039062 16.446734 21.318359 18.240234 21.318359 18.240234 C 21.318359 18.240234 25.53125 17.755625 25.53125 14.640625 C 25.53125 13.354375 24.685791 12.706172 23.681641 12.664062 z M 10.816406 15.431641 C 9.9584062 15.430641 8.6816406 16.111625 8.6816406 16.765625 C 8.6816406 18.081625 15.136062 19.095828 19.914062 17.173828 L 18.259766 16.132812 C 15.020766 17.195812 9.0484062 16.854641 10.816406 15.431641 z M 12.029297 18.238281 C 10.850297 18.238281 10.085938 19.031328 10.085938 19.611328 C 10.085938 21.407328 17.124062 21.468578 19.914062 19.642578 L 18.140625 18.537109 C 16.058625 19.492109 10.824297 19.622281 12.029297 18.238281 z M 6.9199219 20.990234 C 5.2392793 20.937557 4.46875 21.796297 4.46875 22.498047 C 4.46875 26.228047 22.722656 26.049328 22.722656 22.236328 C 22.722656 21.603328 22.017719 21.302203 21.761719 21.158203 C 23.251719 24.803203 6.6503906 24.553344 6.6503906 22.402344 C 6.6503906 21.912344 7.5294375 21.412625 8.6484375 21.640625 C 8.6484375 21.640625 8.2382656 21.164312 7.6972656 21.070312 C 7.4196406 21.022437 7.1600137 20.99776 6.9199219 20.990234 z M 25.53125 23.794922 C 22.63425 26.630922 14.659344 28.352563 7.2773438 26.601562 C 14.694344 29.607563 25.49625 27.275922 25.53125 23.794922 z"/>
              </svg>
            </a>
          </Link>
          <p>Linguagem de programação 1</p>
        </div>


      </nav> {/* nav */}
      <DarkmodeButton />
    </header> // header
  );
}